{% extends 'layout.html' %} {% block body %}
{% import 'components/flash_message.html' as flash_message %}
<script type="module" src="./index.js" defer></script>

<div id="flash-wrapper">
    {{ flash_message.flash_message() }}
</div>


<form action="/" method="POST" class="mx-auto max-w-[475px] mt-10 border-2 rounded-2xl py-5"
    enctype="multipart/form-data">
    <div id="error-section"></div>
    <div id="error-files" class="no-scrollbar pt-3 max-h-[170px] flex flex-col items-center gap-2 overflow-y-scroll">
    </div>
    <div id="file-list" class="no-scrollbar pt-3 max-h-[170px] flex flex-col items-center gap-2 overflow-y-scroll">
    </div>
    {{ form.hidden_tag() }}
    {{ form.files(class="hidden")}}
    <div class="w-full mt-3 flex justify-center">
        {{ form.room_name(class="input input-bordered hidden mt-3", **{'hx-get':"/existing_room", 'hx-target':
        "#response",
        'hx-trigger': "keyup changed delay:500ms"}) }}
    </div>
    <div id="response" class="mt-3 flex justify-center"></div>
    <div class="flex justify-center">
        {{form.submit(class="btn hidden")}}
    </div>
    <div class="mx-auto flex flex-col justify-center items-center" id="upload-label">
        <p>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.2"
                stroke="currentColor" class="w-12 h-12">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z" />
            </svg>
        </p>
        <label for="files" class="btn btn-outline btn-primary mt-3">
            Click to upload
        </label>
    </div>

</form>

{% endblock %}